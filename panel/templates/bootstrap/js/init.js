function checkFormField(e,t,n){var r=e.find("input[name='"+t+"']");if(!r.length){$("<input>").attr({type:"hidden",name:t,value:n}).appendTo(e)}else{return r}}$(document).on("submit",".ajax",function(e){$(".help-block").remove();$(".alert").remove();$(".has-warning").removeClass("has-warning");$(".has-success").removeClass("has-success");$(".has-error").removeClass("has-error");var t=$(this);var n=false;$(this).ajaxSubmit({dataType:"json",success:function(e){if(e.messages){messages=e.messages;if(messages.length){for(var r=0;r<messages.length;r++){if(messages[r].field){if(messages[r].type=="danger"){messages[r].type="error"}field=t.find("select[name="+messages[r].field+"], input[name="+messages[r].field+"], textarea[name="+messages[r].field+"], checkbox[name="+messages[r].field+"]");if(field.length){field.parent().parent().addClass("has-"+messages[r].type);field.parent().append('<span class="help-block">'+messages[r].message+"</span>")}}else if(messages[r].url){$(".alert").remove();n=true;document.location.href=messages[r].url}else{if(messages[r].type=="error"){messages[r].type="danger"}$("#mensajes-sys").append('<div class="alert alert-'+messages[r].type+'"><button type="button" class="close" data-dismiss="alert">&times;</button>'+messages[r].message+"</div>");$("html,body").animate({scrollTop:0},"slow")}}}}if(e.debug){if(e.debug.length){messages=e.debug;for(var r=0;r<messages.length;r++){var i=parseInt($("#debugCounterMessagesAjax").html());i++;$("#debugCounterMessagesAjax").html(i);if(!$("#debugModalMessagesAjax ul.list-group").length){$("#debugModalMessagesAjax .modal-body").append("<ul class='list-group'></ul>");$("#debugModalMessagesAjax blockquote").remove()}$("#debugModalMessagesAjax ul.list-group").append("<li class='list-group-item'><blockquote>"+messages[r].message+"</blockquote>"+messages[r].trace+"</li>")}}}if(e.data){if(e.data.modal){$("#genericModal .modal-content").html(e.data.modal);$("#genericModal").modal("show")}}if(!n){$(".btn.disabled").disabled=false;$(".btn.disabled").removeClass("disabled");Ladda.stopAll()}}});return false});$(document).on("click",".pagination a",function(e){var t=$(this).attr("data-app");var n=$(this).attr("data-action");var r=$(this).attr("data-limit");var i=$(this).attr("data-limitStart");var s=$(this).closest("form");if(t){checkFormField(s,"app",t)}if(n){checkFormField(s,"action",n)}checkFormField(s,"limit",r);checkFormField(s,"limitStart",i);s.submit()});$(document).on("click",".sortable",function(e){var t=$(this).closest("form");checkFormField(t,"order",$(this).attr("data-order"));checkFormField(t,"orderDir",$(this).attr("data-orderDir"));t.submit()});$(document).on("change",".change-submit",function(e){$("#mainForm").submit()});$(document).on("click",".delete",function(e){var t=false;var n=$(this).attr("confirm");if(n){t=confirm(n)}else{t=true}if(t){$("#action").val("delete");$("#mainForm").submit()}else{Ladda.stopAll()}return false});$(document).ready(function(){$("input[type='checkbox']").bootstrapSwitch();Ladda.bind(".ladda-button");$(".numeric").numeric({negative:false})})